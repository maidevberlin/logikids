FROM oven/bun:1

WORKDIR /app

# Copy and install dependencies
COPY packages/backend/package.json .
COPY packages/backend/bun.lockb .
RUN bun install --production

# Copy source files
COPY packages/backend/src src
COPY packages/backend/prompts prompts
COPY packages/backend/locales locales
COPY packages/backend/database database

# Copy content
COPY content /content

EXPOSE 3000
CMD ["bun", "src/index.ts"]
